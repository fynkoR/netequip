<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ - NetEquip</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="navbar">
    <div class="nav-brand">üåê NetEquip</div>
    <ul class="nav-menu">
        <li><a href="index.html">–î–∞—à–±–æ—Ä–¥</a></li>
        <li><a href="equipment-types.html">–¢–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</a></li>
        <li><a href="employees.html" class="active">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</a></li>
        <li><a href="equipment.html">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</a></li>
        <li><a href="device-ports.html">–ü–æ—Ä—Ç—ã</a></li>
        <li><a href="ip-addresses.html">IP-–∞–¥—Ä–µ—Å–∞</a></li>
        <li><a href="maintenance.html">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</a></li>
    </ul>
</nav>

<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h1>
        <button class="btn btn-primary" onclick="openModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
    <div class="filters">
        <div class="filter-row">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, email..." onkeyup="filterTable()">
            </div>
            <select id="positionFilter" onchange="filterTable()">
                <option value="">–í—Å–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏</option>
            </select>
            <button class="btn btn-secondary" onclick="resetFilters()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-mini">
        <div class="stat-mini-card">
            <span class="stat-mini-label">–í—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</span>
            <span class="stat-mini-value" id="totalCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ:</span>
            <span class="stat-mini-value" id="displayedCount">0</span>
        </div>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
    <div class="table-container">
        <table id="employeesTable">
            <thead>
            <tr>
                <th>ID</th>
                <th>–§–ò–û</th>
                <th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
                <th>Email</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody id="employeesBody">
            <tr><td colspan="5" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div id="modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
            <span class="modal-close" onclick="closeModal()">‚úñ</span>
        </div>
        <form id="employeeForm" onsubmit="saveEmployee(event)">
            <input type="hidden" id="employeeId">

            <div class="form-group">
                <label for="fullName">–§–ò–û *</label>
                <input type="text"
                       id="fullName"
                       required
                       maxlength="100"
                       placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                       pattern="[–ê-–Ø–∞-—è–Å—ëA-Za-z\s\-]+"
                       title="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã">
                <small class="form-hint">–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤</small>
            </div>

            <div class="form-group">
                <label for="position">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
                <input type="text"
                       id="position"
                       maxlength="100"
                       placeholder="–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
                       list="positionsList">
                <datalist id="positionsList">
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </datalist>
                <small class="form-hint">–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤</small>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email"
                       id="email"
                       maxlength="100"
                       placeholder="ivanov@company.com">
                <small class="form-hint">–ë—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å</small>
            </div>

            <div class="action-buttons">
                <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π -->
<div id="detailsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìã –î–µ—Ç–∞–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
            <span class="modal-close" onclick="closeDetailsModal()">‚úñ</span>
        </div>
        <div class="details-content">
            <div class="detail-row">
                <span class="detail-label">ID:</span>
                <span class="detail-value" id="detailId"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–§–ò–û:</span>
                <span class="detail-value" id="detailFullName"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</span>
                <span class="detail-value" id="detailPosition"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value" id="detailEmail"></span>
            </div>
        </div>
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="editFromDetails()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="btn btn-secondary" onclick="closeDetailsModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<script src="js/api.js"></script>
<script src="js/employees.js"></script>
</body>
</html>
