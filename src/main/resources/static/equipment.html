<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ - NetEquip</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="navbar">
    <div class="nav-brand">üåê NetEquip</div>
    <ul class="nav-menu">
        <li><a href="index.html">–î–∞—à–±–æ—Ä–¥</a></li>
        <li><a href="equipment-types.html">–¢–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</a></li>
        <li><a href="employees.html">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</a></li>
        <li><a href="equipment.html" class="active">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</a></li>
        <li><a href="device-ports.html">–ü–æ—Ä—Ç—ã</a></li>
        <li><a href="ip-addresses.html">IP-–∞–¥—Ä–µ—Å–∞</a></li>
        <li><a href="maintenance.html">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</a></li>
    </ul>
</nav>

<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>üñ•Ô∏è –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</h1>
        <button class="btn btn-primary" onclick="openModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</button>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
    <div class="filters">
        <div class="filter-row">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, IP, MAC, —Å–µ—Ä–∏–π–Ω–æ–º—É –Ω–æ–º–µ—Ä—É..." onkeyup="filterTable()">
            </div>
            <select id="statusFilter" onchange="filterTable()">
                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
                <option value="Maintenance">Maintenance</option>
                <option value="Retired">Retired</option>
            </select>
            <select id="typeFilter" onchange="filterTable()">
                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
            </select>
            <select id="employeeFilter" onchange="filterTable()">
                <option value="">–í—Å–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ</option>
            </select>
            <button class="btn btn-secondary" onclick="resetFilters()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-mini">
        <div class="stat-mini-card">
            <span class="stat-mini-label">–í—Å–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:</span>
            <span class="stat-mini-value" id="totalCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö:</span>
            <span class="stat-mini-value" id="activeCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–ù–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏:</span>
            <span class="stat-mini-value" id="maintenanceCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ:</span>
            <span class="stat-mini-value" id="displayedCount">0</span>
        </div>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è -->
    <div class="table-container">
        <table id="equipmentTable">
            <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–¢–∏–ø</th>
                <th>IP-–∞–¥—Ä–µ—Å</th>
                <th>MAC-–∞–¥—Ä–µ—Å</th>
                <th>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody id="equipmentBody">
            <tr><td colspan="9" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="modal" class="modal">
    <div class="modal-content modal-large">
        <div class="modal-header">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</h2>
            <span class="modal-close" onclick="closeModal()">‚úñ</span>
        </div>
        <form id="equipmentForm" onsubmit="saveEquipment(event)">
            <input type="hidden" id="equipmentId">

            <div class="form-section">
                <h3>üì¶ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="typeId">–¢–∏–ø –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è *</label>
                        <select id="typeId" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø...</option>
                        </select>
                        <small class="form-hint">–¢–∏–ø –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</small>
                    </div>

                    <div class="form-group">
                        <label for="employeeId">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫</label>
                        <select id="employeeId">
                            <option value="">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</option>
                        </select>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="name" required placeholder="Core-Switch-01" maxlength="100">
                        <small class="form-hint">–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</small>
                    </div>

                    <div class="form-group">
                        <label for="serialNumber">–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä *</label>
                        <input type="text" id="serialNumber" required placeholder="SN-123456789" maxlength="100">
                        <small class="form-hint">–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>üåê –°–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="ipAddress">IP-–∞–¥—Ä–µ—Å</label>
                        <input type="text"
                               id="ipAddress"
                               placeholder="192.168.1.1"
                               pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                               title="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å">
                        <small class="form-hint">–û—Å–Ω–æ–≤–Ω–æ–π IP-–∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</small>
                    </div>

                    <div class="form-group">
                        <label for="macAddress">MAC-–∞–¥—Ä–µ—Å</label>
                        <input type="text"
                               id="macAddress"
                               placeholder="00:1A:2B:3C:4D:5E"
                               pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"
                               title="–§–æ—Ä–º–∞—Ç: XX:XX:XX:XX:XX:XX –∏–ª–∏ XX-XX-XX-XX-XX-XX">
                        <small class="form-hint">–§–∏–∑–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ —Å—Ç–∞—Ç—É—Å</h3>
                <div class="form-group">
                    <label for="address">–ê–¥—Ä–µ—Å/–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                    <input type="text"
                           id="address"
                           placeholder="–°–µ—Ä–≤–µ—Ä–Ω–∞—è, —Å—Ç–æ–π–∫–∞ A, –ø–æ–∑–∏—Ü–∏—è 10"
                           maxlength="200">
                    <small class="form-hint">–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</small>
                </div>

                <div class="form-group">
                    <label for="status">–°—Ç–∞—Ç—É—Å *</label>
                    <select id="status" required>
                        <option value="Active">Active - –ê–∫—Ç–∏–≤–Ω–æ–µ</option>
                        <option value="Inactive">Inactive - –ù–µ–∞–∫—Ç–∏–≤–Ω–æ–µ</option>
                        <option value="Maintenance">Maintenance - –ù–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏</option>
                        <option value="Retired">Retired - –°–ø–∏—Å–∞–Ω–æ</option>
                    </select>
                </div>
            </div>

            <div class="form-section">
                <h3>‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (JSON)</h3>
                <div class="form-group">
                    <label for="technicalParams">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</label>
                    <textarea id="technicalParams"
                              rows="5"
                              placeholder='{"ports": 24, "powerSupply": "Dual", "rackUnits": 1, "poeSupport": true}'></textarea>
                    <small class="form-hint">–§–æ—Ä–º–∞—Ç JSON. –ü—Ä–∏–º–µ—Ä: {"ports": 48, "speed": "10G", "poeSupport": true}</small>
                </div>
                <button type="button" class="btn btn-secondary btn-small" onclick="validateJSON()">‚úì –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JSON</button>
            </div>

            <div class="action-buttons">
                <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π -->
<div id="viewModal" class="modal">
    <div class="modal-content modal-large">
        <div class="modal-header">
            <h2 id="viewTitle">üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏</h2>
            <span class="modal-close" onclick="closeViewModal()">‚úñ</span>
        </div>
        <div id="viewContent" style="padding: 1.5rem;"></div>
    </div>
</div>

<script src="js/api.js"></script>
<script src="js/equipment.js"></script>
</body>
</html>
