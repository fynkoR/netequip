<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP-–∞–¥—Ä–µ—Å–∞ - NetEquip</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="navbar">
    <div class="nav-brand">üåê NetEquip</div>
    <ul class="nav-menu">
        <li><a href="index.html">–î–∞—à–±–æ—Ä–¥</a></li>
        <li><a href="equipment-types.html">–¢–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</a></li>
        <li><a href="employees.html">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</a></li>
        <li><a href="equipment.html">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</a></li>
        <li><a href="device-ports.html">–ü–æ—Ä—Ç—ã</a></li>
        <li><a href="ip-addresses.html" class="active">IP-–∞–¥—Ä–µ—Å–∞</a></li>
        <li><a href="maintenance.html">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</a></li>
    </ul>
</nav>

<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>üåê IP-–∞–¥—Ä–µ—Å–∞</h1>
        <button class="btn btn-primary" onclick="openModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å IP-–∞–¥—Ä–µ—Å</button>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
    <div class="filters">
        <div class="filter-row">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ IP, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é, —à–ª—é–∑—É..." onkeyup="filterTable()">
            </div>
            <select id="equipmentFilter" onchange="filterTable()">
                <option value="">–í—Å—ë –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</option>
            </select>
            <select id="networkTypeFilter" onchange="filterTable()">
                <option value="">–í—Å–µ —Ç–∏–ø—ã —Å–µ—Ç–∏</option>
            </select>
            <select id="primaryFilter" onchange="filterTable()">
                <option value="">–í—Å–µ IP</option>
                <option value="true">–¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ</option>
                <option value="false">–¢–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ</option>
            </select>
            <button class="btn btn-secondary" onclick="resetFilters()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-mini">
        <div class="stat-mini-card">
            <span class="stat-mini-label">–í—Å–µ–≥–æ IP-–∞–¥—Ä–µ—Å–æ–≤:</span>
            <span class="stat-mini-value" id="totalCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–û—Å–Ω–æ–≤–Ω—ã—Ö:</span>
            <span class="stat-mini-value" id="primaryCount">0</span>
        </div>
        <div class="stat-mini-card">
            <span class="stat-mini-label">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ:</span>
            <span class="stat-mini-value" id="displayedCount">0</span>
        </div>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ IP-–∞–¥—Ä–µ—Å–æ–≤ -->
    <div class="table-container">
        <table id="ipAddressesTable">
            <thead>
            <tr>
                <th>ID</th>
                <th>IP-–∞–¥—Ä–µ—Å</th>
                <th>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</th>
                <th>–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏</th>
                <th>–®–ª—é–∑</th>
                <th>–¢–∏–ø —Å–µ—Ç–∏</th>
                <th>–û—Å–Ω–æ–≤–Ω–æ–π</th>
                <th>–î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody id="ipAddressesBody">
            <tr><td colspan="9" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="modal" class="modal">
    <div class="modal-content modal-large">
        <div class="modal-header">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å IP-–∞–¥—Ä–µ—Å</h2>
            <span class="modal-close" onclick="closeModal()">‚úñ</span>
        </div>
        <form id="ipAddressForm" onsubmit="saveIpAddress(event)">
            <input type="hidden" id="ipAddressId">

            <div class="form-group">
                <label for="equipmentId">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ *</label>
                <select id="equipmentId" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ...</option>
                </select>
                <small class="form-hint">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ IP-–∞–¥—Ä–µ—Å–∞</small>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="ipAddress">IP-–∞–¥—Ä–µ—Å *</label>
                    <input type="text"
                           id="ipAddress"
                           required
                           placeholder="192.168.1.1"
                           pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                           title="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å">
                    <small class="form-hint">–§–æ—Ä–º–∞—Ç IPv4: xxx.xxx.xxx.xxx</small>
                </div>

                <div class="form-group">
                    <label for="subnetMask">–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏</label>
                    <input type="text"
                           id="subnetMask"
                           placeholder="255.255.255.0"
                           pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                           list="subnetMaskList">
                    <datalist id="subnetMaskList">
                        <option value="255.255.255.0">
                        <option value="255.255.0.0">
                        <option value="255.0.0.0">
                        <option value="255.255.255.128">
                        <option value="255.255.255.192">
                        <option value="255.255.255.224">
                        <option value="255.255.255.240">
                        <option value="255.255.255.248">
                        <option value="255.255.255.252">
                    </datalist>
                </div>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="gateway">–®–ª—é–∑</label>
                    <input type="text"
                           id="gateway"
                           placeholder="192.168.1.254"
                           pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$">
                </div>

                <div class="form-group">
                    <label for="networkType">–¢–∏–ø —Å–µ—Ç–∏</label>
                    <input type="text"
                           id="networkType"
                           placeholder="LAN, WAN, DMZ..."
                           list="networkTypeList">
                    <datalist id="networkTypeList">
                        <option value="LAN">
                        <option value="WAN">
                        <option value="DMZ">
                        <option value="VLAN">
                        <option value="Internet">
                        <option value="Management">
                    </datalist>
                </div>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="assignedDate">–î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</label>
                    <input type="date" id="assignedDate">
                    <small class="form-hint">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã</small>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="isPrimary">
                        <span>–û—Å–Ω–æ–≤–Ω–æ–π IP-–∞–¥—Ä–µ—Å –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</span>
                    </label>
                    <small class="form-hint">–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω IP –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</small>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π -->
<div id="detailsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìã –î–µ—Ç–∞–ª–∏ IP-–∞–¥—Ä–µ—Å–∞</h2>
            <span class="modal-close" onclick="closeDetailsModal()">‚úñ</span>
        </div>
        <div class="details-content">
            <div class="detail-row">
                <span class="detail-label">ID:</span>
                <span class="detail-value" id="detailId"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">IP-–∞–¥—Ä–µ—Å:</span>
                <span class="detail-value" id="detailIpAddress"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:</span>
                <span class="detail-value" id="detailEquipmentName"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏:</span>
                <span class="detail-value" id="detailSubnetMask"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–®–ª—é–∑:</span>
                <span class="detail-value" id="detailGateway"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–¢–∏–ø —Å–µ—Ç–∏:</span>
                <span class="detail-value" id="detailNetworkType"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–û—Å–Ω–æ–≤–Ω–æ–π:</span>
                <span class="detail-value" id="detailIsPrimary"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">–î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:</span>
                <span class="detail-value" id="detailAssignedDate"></span>
            </div>
        </div>
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="editFromDetails()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="btn btn-secondary" onclick="closeDetailsModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<script src="js/api.js"></script>
<script src="js/ip-addresses.js"></script>
</body>
</html>
